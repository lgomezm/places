<div ng-include="'views/admin-navbar.htm'"></div>
<div class="container" style="margin-top: 70px">
    <div class="row justify-content-md-center">
        <div ng-show="hasError" class="col-md-auto alert alert-danger alert-dismissible fade show" role="alert">
            Ocurrió un error consultando inmuebles. Contacte al administrador.
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    </div>
    <div class="row">
        <h3>Consulta de inmuebles</h3>
    </div>
    <form>
        <div class="row">
            <div class="form-group col-sm-2">
                <label for="purpose">Inmueble en</label>
                <select class="form-control" id="purpose">
                    <option value="all">Todos</option>
                    <option value="sale">Venta</option>
                    <option value="rent">Arriendo</option>
                </select>
            </div>
            <div class="form-group col-sm-3">
                <label for="type">Tipo</label>
                <select class="form-control" id="type">
                    <option value="all">Todos</option>
                    <option value="apt-studio">Aparta-estudio</option>
                    <option value="aptartment">Apartamento</option>
                    <option value="house">Casa</option>
                    <option value="farm">Finca</option>
                    <option value="shop">Local</option>
                    <option value="warehouse">Bodega</option>
                    <option value="allotment">Lote</option>
                    <option value="office">Oficina</option>
                </select>
            </div>
            <div class="form-group col-sm-3">
                <label for="location">Ubicación</label>
                <select class="form-control" id="location">
                    <option value="all">Todas</option>
                    <option>Amagá</option>
                    <option>Barbosa</option>
                    <option>Bello</option>
                    <option>Caldas</option>
                    <option>Copacabana</option>
                    <option>Envigado</option>
                    <option>Guarne</option>
                    <option>Itagüí</option>
                    <option>Marinilla</option>
                    <option>Medellín</option>
                    <option>La Estrella</option>
                    <option>Rionegro</option>
                    <option>Sabaneta</option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-sm-3">
                <button type="button" class="btn btn-primary" ng-click="newSearch()"><span class="fas fa-search"></span> Buscar</button>
            </div>
        </div>
    </form>
    <div class="row" style="margin-bottom: 20px">
        <div class="col-sm-9">Resultados de búsqueda: {{ totalPlaces }}</div>
        <div class="col-sm-3" style="float: right">
            <button type="button" class="btn btn-secondary" aria-label="Left Align" ng-click="prevPage()" title="Anterior">
                <span class="fas fa-caret-left" aria-hidden="true"></span>
            </button>
            <span class="text">Página {{ currPage }} de {{ totalPages }}</span>
            <button type="button" class="btn btn-secondary" aria-label="Left Align" ng-click="nextPage()" title="Siguiente">
                <span class="fas fa-caret-right" aria-hidden="true"></span>
            </button>
        </div>
    </div>
    <div class="row">
        <div class="table-responsive">
            <table class="table table-striped table-sm">
                <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Ubicación</th>
                    <th>Tipo</th>
                    <th>Área</th>
                    <th colspan="2">Acciones</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="p in places">
                    <td><span class="align-middle">{{ p.name }}</span></td>
                    <td>{{ p.location }}</td>
                    <td>{{ p.type | placeTypeFormat }}</td>
                    <td>{{ p.area }} m<sup>2</sup></td>
                    <td>
                        <button type="button" class="btn btn-primary" aria-label="Left Align" ng-click="goToShow(p.owner_id, p.ID)" title="Ver detalle">
                            <span class="fas fa-search" aria-hidden="true"></span>
                        </button>
                    </td>
                    <td>
                        <button type="button" class="btn btn-success" aria-label="Left Align" ng-click="goToEdit(p.owner_id, p.ID)" title="Editar">
                            <span class="fas fa-edit" aria-hidden="true"></span>
                        </button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
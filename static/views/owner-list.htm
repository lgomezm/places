<div ng-include="'views/admin-navbar.htm'"></div>
<div class="container" style="margin-top: 70px">
    <div class="row justify-content-md-center">
        <div ng-show="hasError" class="col-md-auto alert alert-danger alert-dismissible fade show" role="alert">
            Ocurrió un error consultando propietarios. Contacte al administrador.
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    </div>
    <div class="row">
        <h3>Consulta de propietarios</h3>
    </div>
    <form>
        <div class="row">
            <div class="form-group col-sm-4">
                <label for="dni_type">Tipo de documento</label>
                <select class="form-control" id="dni_type">
                    <option value="all">--Seleccione--</option>
                    <option title="C.C. (Cédula de Ciudadanía)" value="CC">C.C. (Cédula de Ciudadanía)</option>
                    <option title="C.E. (Cédula de Extranjería)" value="CE">C.E. (Cédula de Extranjería)</option>
                    <option title="NIT (Número Identificación Tributaria)" value="NIT">NIT (Número Identificación Tributaria)</option>
                    <option title="T.I. (Tarjeta de Identidad)" value="TI">T.I. (Tarjeta de Identidad)</option>
                    <option title="PP (Pasaporte)" value="PP">PP (Pasaporte)</option>
                    <option title="IDC (Identificador Único de Cliente)" value="IDC">IDC (Identificador Único de Cliente)</option>
                    <option title="CEL (Número Móvil)" value="CEL">CEL (Número Móvil)</option>
                    <option title="R.C. (Registro Civil)" value="RC">R.C. (Registro Civil)</option>
                    <option title="D.E. (Documento de Identificación Extranjero)" value="DE">D.E. (Documento de Identificación Extranjero)</option>
                </select>
            </div>
            <div class="form-group col-sm-4">
                <label for="dni">Número de documento</label>
                <input type="text" class="form-control" id="dni" placeholder="Número de documento">
            </div>
        </div>
        <div class="row">
            <div class="form-group col-sm-4">
                <label for="firstname">Nombre del propietario</label>
                <input type="text" class="form-control" id="firstname" placeholder="Nombre del propietario">
            </div>
            <div class="form-group col-sm-4">
                <label for="lastname">Apellido del propietario</label>
                <input type="text" class="form-control" id="lastname" placeholder="Apellido del propietario">
            </div>
            <div class="form-group col-sm-4">
                <label for="email">E-mail del propietario</label>
                <input type="text" class="form-control" id="email" placeholder="E-mail del propietario">
            </div>
        </div>
        <div class="row">
            <div class="form-group col-sm-3">
                <button type="button" class="btn btn-primary" ng-click="newSearch()">Buscar</button>
            </div>
        </div>
    </form>
    <div class="row" style="margin-bottom: 20px">
        <div class="col-sm-9">Resultados de búsqueda: {{ totalOwners }}</div>
        <div class="col-sm-3" style="float: right">
            <button type="button" class="btn btn-secondary" aria-label="Left Align" ng-click="prevPage()" title="Anterior">
                <span class="fas fa-caret-left" aria-hidden="true"></span>
            </button>
            <span class="text">Página {{ currPage }} de {{ totalPages }}</span>
            <button type="button" class="btn btn-secondary" aria-label="Left Align" ng-click="nextPage()" title="Siguiente">
                <span class="fas fa-caret-right" aria-hidden="true"></span>
            </button>
        </div>
    </div>
    <div class="row">
        <div class="table-responsive">
            <table class="table table-striped table-sm">
                <thead>
                <tr>
                    <th>Tipo de Documento</th>
                    <th>Documento</th>
                    <th>Nombre</th>
                    <th>Apellido</th>
                    <th>E-mail</th>
                    <th colspan="2">Acciones</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="o in owners">
                    <td><span class="align-middle">{{ o.dni_type | dniTypeFormat }}</span></td>
                    <td><span class="align-middle">{{ o.dni }}</span></td>
                    <td><span class="align-middle">{{ o.firstname }}</span></td>
                    <td><span class="align-middle">{{ o.lastname }}</span></td>
                    <td><span class="align-middle">{{ o.email }}</span></td>
                    <td>
                        <button type="button" class="btn btn-primary" aria-label="Left Align" ng-click="goToShow(o.ID)" title="Ver detalle">
                            <span class="fas fa-search" aria-hidden="true"></span>
                        </button>
                    </td>
                    <td>
                        <button type="button" class="btn btn-success" aria-label="Left Align" ng-click="goToEdit(o.ID)" title="Editar">
                            <span class="fas fa-edit" aria-hidden="true"></span>
                        </button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>